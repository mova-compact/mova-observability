---
const REPO = "mova-compact/mova-downloads";
const VERSION = "latest";
---

<section id="download" class="section">
  <div class="container">
    <h2 class="section-title">Download</h2>
    <p class="section-subtitle">
      Binary core and connector pack are delivered separately.
    </p>

    <div class="card download-card">
      <div class="tabs" role="tablist">
        <button class="tab-btn" role="tab" aria-selected="true" data-tab="linux">Linux</button>
        <button class="tab-btn" role="tab" aria-selected="false" data-tab="macos">macOS</button>
        <button class="tab-btn" role="tab" aria-selected="false" data-tab="windows">Windows</button>
      </div>

      <div class="tab-panel" id="panel-linux" data-active>
        <pre><code>{`# Download & install
curl -fsSL https://github.com/${REPO}/releases/${VERSION}/download/mova-compact-linux -o mova-compact
chmod +x mova-compact
sudo mv mova-compact /usr/local/bin/mova-compact
curl -fsSL https://github.com/${REPO}/releases/${VERSION}/download/SHA256SUMS.txt -o SHA256SUMS.txt

# Verify
mova-compact --version
sha256sum /usr/local/bin/mova-compact`}</code></pre>
      </div>

      <div class="tab-panel" id="panel-macos">
        <pre><code>{`# Download & install
curl -fsSL https://github.com/${REPO}/releases/${VERSION}/download/mova-compact-macos -o mova-compact
chmod +x mova-compact
sudo mv mova-compact /usr/local/bin/mova-compact
curl -fsSL https://github.com/${REPO}/releases/${VERSION}/download/SHA256SUMS.txt -o SHA256SUMS.txt

# Verify
mova-compact --version
shasum -a 256 /usr/local/bin/mova-compact`}</code></pre>
      </div>

      <div class="tab-panel" id="panel-windows">
        <pre><code>{`# Download (PowerShell)
Invoke-WebRequest -Uri "https://github.com/${REPO}/releases/${VERSION}/download/mova-compact.exe" -OutFile ".\\mova-compact.exe"
Invoke-WebRequest -Uri "https://github.com/${REPO}/releases/${VERSION}/download/SHA256SUMS.txt" -OutFile ".\\SHA256SUMS.txt"

# Verify
.\\mova-compact.exe --version
Get-FileHash .\\mova-compact.exe -Algorithm SHA256`}</code></pre>
      </div>

      <div class="download-links">
        <a href={`https://github.com/${REPO}/releases/${VERSION}/download/mova-compact-linux`} class="btn btn-outline btn-sm">
          Linux Binary
        </a>
        <a href={`https://github.com/${REPO}/releases/${VERSION}/download/mova-compact-macos`} class="btn btn-outline btn-sm">
          macOS Binary
        </a>
        <a href={`https://github.com/${REPO}/releases/${VERSION}/download/mova-compact.exe`} class="btn btn-outline btn-sm">
          Windows EXE
        </a>
        <a href={`https://github.com/${REPO}/releases/${VERSION}/download/SHA256SUMS.txt`} class="btn btn-outline btn-sm">
          SHA256SUMS
        </a>
        <a href={`https://github.com/${REPO}/releases/${VERSION}/download/mova-connectors-python.zip`} class="btn btn-outline btn-sm">
          Connectors Pack (.zip)
        </a>
      </div>

      <div class="connector-pack-note">
        <p>
          <strong>Connector pack:</strong> includes Python adapters for Claude (Anthropic) and Codex/OpenAI plus shared utilities.
        </p>
        <pre><code>{`curl -fsSL https://github.com/${REPO}/releases/${VERSION}/download/mova-connectors-python.zip -o mova-connectors-python.zip
unzip mova-connectors-python.zip`}</code></pre>
      </div>
    </div>
  </div>
</section>

<script>
  document.querySelectorAll<HTMLButtonElement>(".tab-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const tab = btn.dataset.tab!;
      document.querySelectorAll<HTMLButtonElement>(".tab-btn").forEach((b) =>
        b.setAttribute("aria-selected", "false")
      );
      btn.setAttribute("aria-selected", "true");
      document.querySelectorAll<HTMLElement>(".tab-panel").forEach((p) =>
        p.removeAttribute("data-active")
      );
      document.getElementById(`panel-${tab}`)?.setAttribute("data-active", "");
    });
  });
</script>

<style>
  .download-card {
    max-width: 720px;
  }

  .download-links {
    display: flex;
    gap: 0.75rem;
    margin-top: 1.5rem;
    flex-wrap: wrap;
  }

  .btn-sm {
    padding: 0.4rem 1rem;
    font-size: 0.85rem;
  }

  .connector-pack-note {
    margin-top: 1.5rem;
    padding-top: 1.25rem;
    border-top: 1px solid var(--border);
  }

  .connector-pack-note p {
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin-bottom: 0.75rem;
  }
</style>
